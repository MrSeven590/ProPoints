# 手动测试清单

## 测试环境
- HBuilderX 真机/模拟器运行

## 测试用例

### 1. 考核数据持久化测试
**步骤**:
1. 进入工分录入页面
2. 选择发酵仓，分配人员
3. 点击人员卡片，录入考核扣分和原因
4. 保存草稿
5. 退出页面，重新进入
6. 验证考核数据是否正确显示

**预期结果**: 考核扣分和原因正确显示，最终工分 = 原始工分 - 考核扣分

### 2. BIN 平衡校验测试
**步骤**:
1. 进入工分录入页面
2. 选择发酵仓（例如：1200 曲坯，系数 1.1，总分 66 分）
3. 分配人员工分总和不等于 66 分（例如：只分配 60 分）
4. 点击提交

**预期结果**: 显示错误提示"发酵仓 X-X-X 工分不平衡：总分 66.0，已分配 60.0，差额 6.0"

### 3. 跨仓来源完整性校验测试
**步骤**:
1. 进入工分录入页面
2. 选择多个发酵仓
3. 启用跨仓岗位，输入工分（例如：10 分）
4. 手动修改代码，使来源工分合计不等于 10 分
5. 点击提交

**预期结果**: 显示错误提示"跨仓工分来源不完整：分配 10.0，来源合计 X.X"

### 4. 跨仓来源预览测试
**步骤**:
1. 进入工分录入页面
2. 选择多个发酵仓
3. 启用跨仓岗位，输入工分
4. 观察来源预览区域

**预期结果**: 来源预览直接展示，无需点击，显示各仓的扣减工分和百分比

### 5. 考核与平衡综合测试
**步骤**:
1. 进入工分录入页面
2. 选择发酵仓（总分 66 分）
3. 分配人员：A 30 分，B 30 分，C 6 分
4. 对 A 录入考核扣分 2 分
5. 点击提交

**预期结果**:
- 提交成功（因为原始工分合计 = 30 + 30 + 6 = 66 分，平衡）
- 显示的最终工分：A 28 分，B 30 分，C 6 分

## 边界情况测试

### 1. 考核扣分为 0
- 录入考核扣分为 0，验证不影响正常流程

### 2. 跨仓工分为 0
- 跨仓工分为 0 时，验证校验逻辑正确

### 3. 多个 BIN 同时不平衡
- 多个仓都不平衡时，验证错误列表显示所有错误

## 回归测试

### 1. 原有功能不受影响
- [ ] 安曲录入正常
- [ ] 翻曲录入正常
- [ ] 拆曲录入正常
- [ ] 堆曲录入正常

### 2. 数据加载
- [ ] 已保存的草稿能正确加载
- [ ] 已提交的数据能正确显示

## 性能测试

- [ ] 多个发酵仓（10+）时，来源预览渲染流畅
- [ ] 校验逻辑不影响提交速度

## 测试结果记录

| 测试用例 | 状态 | 备注 |
|---------|------|------|
| 考核数据持久化 | ⬜ 待测试 | |
| BIN 平衡校验 | ⬜ 待测试 | |
| 跨仓来源完整性校验 | ⬜ 待测试 | |
| 跨仓来源预览 | ⬜ 待测试 | |
| 考核与平衡综合 | ⬜ 待测试 | |

## 测试完成标准

- 所有测试用例通过
- 无回归问题
- 性能符合预期
